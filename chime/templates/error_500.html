{% extends "base.html" %}

{% block title %}Something went wrong{% endblock %}


{% set template_name = 'error-500' %}
{% block body_class %}{{template_name}}{% endblock %}

{% block content %}
<!-- template name: {{ template_name }} -->
<div class="row row--main col__flex">

    <div class="message-500">

        {% if error_type == 'merge-conflict' %}
            <h1>We apologize. There were conflicting changes between your work and changes published to the live site that couldn't be resolved.</h1>

            <table class="conflict-table">
                <thead>
                    <tr>
                        <th>File</th>
                        <th>Your changes</th>
                        <th>On live site</th>
                    </tr>
                </thead>
                <tbody>
                    {% for file in changed_files %}
                    <tr>
                        <td>{{ file.path }}{{ file.name }}</td>
                        <td>???</td>
                        <td>edited</td>
                    </tr>
                    {% endfor %}
                    {% for file in new_files %}
                    <tr>
                        <td>{{ file.path }}{{ file.name }}</td>
                        <td>???</td>
                        <td>created</td>
                    </tr>
                    {% endfor %}
                    {% for file in gone_files %}
                    <tr>
                        <td>{{ file.path }}{{ file.name }}</td>
                        <td>???</td>
                        <td>deleted</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

        {% else %}
            <h1>We apologize, something went wrong.</h1>
        {% endif %}

        {% if support_phone_number or support_email %}
        <p>Please {% if support_phone_number %}call us at {{ support_phone_number }}{% if support_email %} or {% endif %}{% endif %}{% if support_email %} <a href="mailto:{{ support_email }}{{ email_params }}">send us an email</a>{% endif %}.</p>
        {% endif %}

        <p><a href="{{ activities_path }}">Return to the activities list</a></p>
    </div>

</div>

{% endblock %}